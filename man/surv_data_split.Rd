% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/ML_pack.R
\name{surv_data_split}
\alias{surv_data_split}
\title{Survival Data Splitting with Stratification}
\usage{
surv_data_split(data, train_ratio = 0.7, seed = NULL, stratify = TRUE)
}
\arguments{
\item{data}{A dataframe where the first two columns are survival time and status.}

\item{train_ratio}{Proportion of data to use for training (default: 0.7)}

\item{seed}{Random seed for reproducibility (default: NULL)}

\item{stratify}{Logical indicating whether to use stratified sampling (default: TRUE)}
}
\value{
A list containing:
\itemize{
  \item train - Training set as a dataframe
  \item test - Testing set as a dataframe
  \item report - Stratification report showing event proportions
}
}
\description{
Splits survival data into training and testing sets while preserving event/non-event ratios.
Supports both stratified and non-stratified splitting methods.
}
\details{
Automatically converts survival time to numeric and ensures proper data types.
Uses `rsample` for stratified splitting when possible, falling back to `caret`
for non-stratified splitting. Includes safeguards for small sample sizes and
invalid data types.
}
\examples{
\dontrun{
data <- data.frame(time = rnorm(100), status = rbinom(100, 1, 0.5),
                  matrix(rnorm(100*20), ncol=20))
split_data <- surv_data_split(data, train_ratio = 0.8)
}

}
